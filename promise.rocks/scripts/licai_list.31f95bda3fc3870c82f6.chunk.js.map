{"version":3,"sources":["webpack:///./app/components/views/LicaiList.js","webpack:///./app/components/containers/LicaiListContainer.js"],"names":["End","date","today","color","style","substr","maxWidth","list","sum","onDelete","filterLicai","filter","toDateString","className","width","onClick","to","map","v","i","key","app","product","investment","toLocaleString","profit","start","end","due","ratio","id","mapDispatchToProps","licaiList","deleteLicai","connect","licai","React","Component","constructor","props","super","this","bind","componentDidMount","document","title","render","LicaiList","prop","reduce","p","toFixed"],"mappings":"8IAIA,MAAMA,EAAM,EAAEC,OAAMC,YAClB,MAAMC,EAAQF,EAAOC,EAAQ,QAAUD,IAASC,EAAQ,UAAY,MACpE,OAAO,0BAAME,MAAO,CAACD,MAAOA,IACvBF,EAAOA,EAAKI,OAAO,GAAKJ,IAIzBG,EAAQ,CAACE,SAAU,eAEV,QAAEC,OAAMC,MAAKC,WAAUC,cAAaC,aACjD,MAAMT,EAAQU,cACd,OAAO,0BAAMC,UAAU,YAAYT,MAAOA,GACxC,2BAAOS,UAAU,QAAQT,MAAO,CAACU,MAAO,SACtC,iCAAUH,EAAS,MAAQ,MAA3B,IAAmCH,EACjC,uBAAGK,UAAU,kBAAkBE,QAASL,GAAcC,EAAS,KAAO,QAExE,+BACA,4BACE,kCACA,qCACA,oCACA,kCACA,oCACA,oCACA,oCACA,oCACA,sCACA,kCAAO,kBAAC,OAAD,CAAMK,GAAG,gBAAgBH,UAAU,mBAAnC,SAGT,+BAEEN,EAAKU,IAAI,CAACC,EAAGC,IAAM,wBAAIC,IAAKD,GACxB,4BAAKA,EAAI,GACT,4BAAKD,EAAEG,KACP,4BAAKH,EAAEI,SACP,8BAAOJ,EAAEK,YAAc,GAAGC,kBAC1B,8BAAON,EAAEO,QAAU,GAAGD,kBACtB,4BAAKN,EAAEQ,MAAQR,EAAEQ,MAAMrB,OAAO,GAAKa,EAAEQ,OACrC,4BAAI,kBAAC1B,EAAD,CAAKC,KAAMiB,EAAES,IAAKzB,MAAOA,KAC7B,4BAAKgB,EAAEU,KACP,4BAAKV,EAAEW,OACP,4BAAI,kBAAC,OAAD,CAAMhB,UAAU,6BAA6BG,GAAI,iBAAmBE,EAAEY,IAAtE,MACF,uBAAGjB,UAAU,4BAA4BE,QAAS,IAAMN,EAASS,EAAEY,KAAnE,a,+NCpBd,MAaMC,EAAqB,CACzBC,cACAC,gBACAvB,iBAGawB,4BAnBS,EAAEC,YAExB,IAAI,KAAC5B,EAAD,OAAOI,GAAUwB,EAIrB,OAHIxB,IACFJ,EAAOA,EAAKI,OAAOO,IAAMA,EAAEU,MAEtB,CACLrB,OACAC,IAAKA,EAAID,EAAMI,EAAS,aAAe,UACvCA,WAUoCoB,EAAzBG,CAxCf,cAAiCE,IAAMC,UACrCC,YAAYC,GACVC,MAAMD,GACNE,KAAKhC,SAAWgC,KAAKhC,SAASiC,KAAKD,MAGrCE,oBACEF,KAAKF,MAAMP,YACXY,SAASC,MAAQ,KAGnBC,SACE,OAAO,kBAACC,EAAD,KAAeN,KAAKF,MAApB,CAA2B9B,SAAUgC,KAAKhC,YAGnDA,SAASqB,GACPW,KAAKF,MAAMN,YAAYH,EAAIW,KAAKF,MAAMP,cA2B1C,SAASxB,EAAID,EAAMyC,EAAO,UACxB,OAAOzC,EAAK0C,OAAO,CAACC,EAAGhC,KAAOA,EAAE8B,GAAQE,EAAG,GAAGC,QAAQ","file":"scripts/licai_list.31f95bda3fc3870c82f6.chunk.js","sourcesContent":["import React from \"react\"\nimport {Link} from \"react-router-dom\"\nimport {toDateString} from \"../../lib/utils\"\n\nconst End = ({date, today}) => {\n  const color = date > today ? 'green' : date === today ? '#fce473' : 'red';\n  return <span style={{color: color}}>\n      {date ? date.substr(2) : date}\n  </span>\n};\n\nconst style = {maxWidth: 'fit-content'};\n\nexport default ({list, sum, onDelete, filterLicai, filter}) => {\n  const today = toDateString();\n  return <main className=\"container\" style={style}>\n    <table className=\"table\" style={{width: '100%'}}>\n      <caption>{filter ? '总投资' : '总收益'}:{sum}\n        <a className=\"button is-small\" onClick={filterLicai}>{filter ? '全部' : '未回账'}</a>\n      </caption>\n      <thead>\n      <tr>\n        <th>序号</th>\n        <th>理财app</th>\n        <th>产品名称</th>\n        <th>金额</th>\n        <th>预计收益</th>\n        <th>开始时间</th>\n        <th>结束时间</th>\n        <th>回账时间</th>\n        <th>7日年化收益</th>\n        <th>操作 <Link to=\"/finance/form\" className=\"button is-small\">新增</Link></th>\n      </tr>\n      </thead>\n      <tbody>\n      {\n        list.map((v, i) => <tr key={i}>\n            <td>{i + 1}</td>\n            <td>{v.app}</td>\n            <td>{v.product}</td>\n            <td>{(+v.investment || 0).toLocaleString()}</td>\n            <td>{(+v.profit || 0).toLocaleString()}</td>\n            <td>{v.start ? v.start.substr(2) : v.start}</td>\n            <td><End date={v.end} today={today}/></td>\n            <td>{v.due}</td>\n            <td>{v.ratio}</td>\n            <td><Link className='button is-small is-primary' to={'/finance/form/' + v.id}>编辑</Link>\n              <a className='button is-small is-danger' onClick={() => onDelete(v.id)}>删除</a>\n            </td>\n          </tr>\n        )\n      }\n\n      </tbody>\n    </table>\n  </main>\n}\n","import React from \"react\"\nimport {connect} from \"react-redux\"\nimport LicaiList from \"../views/LicaiList\"\nimport {licaiList, deleteLicai} from \"../../api/markdownApi\"\nimport {filterLicai} from \"../../actions/licaiActions\"\n\nclass licaiListContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.licaiList();\n    document.title = '理财';\n  }\n\n  render() {\n    return <LicaiList {...this.props} onDelete={this.onDelete}/>\n  }\n\n  onDelete(id) {\n    this.props.deleteLicai(id, this.props.licaiList);\n  }\n}\n\n\nconst mapStateToProps = ({licai}) => {\n\n  let {list, filter} = licai;\n  if (filter) {\n    list = list.filter(v => !v.due);\n  }\n  return {\n    list,\n    sum: sum(list, filter ? 'investment' : 'profit'),\n    filter\n  }\n};\n\nconst mapDispatchToProps = {\n  licaiList,\n  deleteLicai,\n  filterLicai\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(licaiListContainer);\n\n\nfunction sum(list, prop = 'profit') {\n  return list.reduce((p, v) => +v[prop] + p, 0).toFixed(2);\n}\n"],"sourceRoot":""}
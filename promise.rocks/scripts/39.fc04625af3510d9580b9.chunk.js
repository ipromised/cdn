(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{619:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(790),r=a.n(c),i=a(791),l=a.n(i);const m=["点餐","已点"],u=["大鸡腿","全翅","翅中","鸡尖","秋刀鱼","大烤肠","肥肠串","五花肉","大热狗","米香鸡块","米香鸡排","大里脊","鸡胗","60克双汇王中王","肥牛","牛板筋","纯肉排","QQ大鸡排","大鱿鱼","鱿鱼须","螺蛳肉","牛肉串","羊肉串","猪脆骨","掌中宝","大鸡柳","贡丸","鱼豆腐","牛肚","排骨串","大肉串","大骨连","奶香馒头","小茄子","肉沫蒜香大茄子","花菜","韭菜","雪榕牌金针菇","娃娃菜","玉米","小青菜","土豆片","香干","素鸡","年糕","藕片","千叶豆腐","香菇","老豆腐","面筋","黄金面包片","南瓜饼","四季豆","臭豆腐","黄金糕","火烧饼","紫薯饼","小热狗","牛蹄筋","油豆腐"];const d=({menu:e,num:t,increment:a,decrement:n,idx:c})=>s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-6"},e),s.a.createElement("p",{className:"subtitle is-7"},"库存:有"))),s.a.createElement("div",{className:"content has-text-right"},s.a.createElement("span",{className:"icon ink",onClick:n,"data-menu":e},s.a.createElement("i",{className:"fa fa-minus-square"}),s.a.createElement(l.a,null)),s.a.createElement("span",{className:"has-text-danger"},t),s.a.createElement("span",{className:"icon ink",onClick:a,"data-menu":e},s.a.createElement("i",{className:"fa fa-plus-square"}),s.a.createElement(l.a,null)),s.a.createElement("br",null)))),o=e=>s.a.createElement("div",{className:"column is-2"},e.children);t.default=class extends s.a.Component{constructor(e){super(e),this.setTab=this.setTab.bind(this),this.increment=this.increment.bind(this),this.decrement=this.decrement.bind(this),this.state={menus:u.slice(),order:{},tabs:m.slice(),activeTab:m[0]}}componentDidMount(){this._cp=new r.a(".copy-menus",{text:()=>{const{order:e}=this.state;return Object.entries(e).filter(([e,t])=>t>0).map(([e,t])=>e+": "+t).join("\n")}})}componentWillUnmount(){this._cp&&this._cp.destroy()}setTab(e){this.setState({activeTab:e.currentTarget.dataset.tab})}increment(e){const{menu:t}=e.currentTarget.dataset,{order:a}=this.state;this.setState({order:Object.assign({},a,{[t]:(a[t]||0)+1})})}decrement(e){const{menu:t}=e.currentTarget.dataset,{order:a}=this.state;a[t]&&this.setState({order:Object.assign({},a,{[t]:(a[t]||0)-1})})}resolveMenus(){const{activeTab:e,menus:t,order:a}=this.state;return"点餐"===e?t:Object.entries(a).reduce((e,[t,a])=>0===a?e:(e.push(t),e),[])}buildMenus(e){if(!e.length)return s.a.createElement("div",null,"无菜单");const{order:t}=this.state;return Array.from({length:Math.ceil(e.length/6)}).map((t,a)=>e.slice(6*a,6*(a+1))).map(e=>s.a.createElement("div",{className:"columns"},e.map((e,a)=>s.a.createElement(o,{key:e},s.a.createElement(d,{idx:a,menu:e,num:t[e]||0,increment:this.increment,decrement:this.decrement})))))}render(){const{activeTab:e}=this.state,t=this.resolveMenus(),a="已点"===e&&t.length?"":"hidden";return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"tabs"},s.a.createElement("ul",null,m.map(t=>s.a.createElement("li",{key:t,className:e===t?"ink is-active":"ink","data-tab":t,onClick:this.setTab},s.a.createElement("a",null,t),s.a.createElement(l.a,null))))),s.a.createElement("button",{className:"button is-primary is-small copy-menus ink "+a},"复制菜单",s.a.createElement(l.a,null)),this.buildMenus(t))}}}}]);
//# sourceMappingURL=39.fc04625af3510d9580b9.chunk.js.map
{"version":3,"sources":["webpack:///./app/components/views/LicaiForm.js","webpack:///./app/components/containers/LicaiFormContainer.js"],"names":["Input","_ref","type","name","model","onChange","other","_objectWithoutProperties","react_default","a","createElement","_extends","e","[object Object]","target","value","DateInput","focused","handleFocus","className","onClick","stopPropagation","onFocus","react_infinite_calendar_es","width","height","selected","Date","keyboardSupport","onSelect","Object","date","LicaiForm","props","detail","handleSubmit","handleBlur","inputChanged","onSubmit","required","min","step","react_router_dom_es","to","mapDispatchToProps","licaiDetail","markdownApi","saveLicai","licaiActions","__webpack_exports__","es","state","Component","constructor","super","this","bind","componentDidMount","match","params","id","setState","preventDefault","history","push","render","LicaiFormContainer_extends"],"mappings":"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","file":"scripts/licai_form.2d0000b574d52ab1cd30.chunk.js","sourcesContent":["import React from \"react\"\nimport {Link} from \"react-router-dom\"\nimport InfiniteCalendar from \"react-infinite-calendar\"\nimport date from \"../../lib/date\"\n\nconst Input = ({type = 'text', name, model = {}, onChange, ...other}) => {\n  return <input type={type} name={name} onChange={e => onChange({[e.target.name]: e.target.value})}\n                value={model[name] || ''} {...other}/>\n};\n\n/**\n *\n * @param field\n * @param focused 获得焦点的元素的name\n * @param handleFocus\n * @returns {XML}\n * @constructor\n */\nconst DateInput = function ({name, model, focused, handleFocus, onChange}) {\n\n  return <div className='control' onClick={(e) => {\n    // 点击该组件时,不触发操作,点击外部时,隐藏此组件\n    e.stopPropagation();\n  }\n  }>\n    <Input className=\"input\" type=\"date\" name={name} model={model} onFocus={e => {\n      e.stopPropagation();\n      handleFocus(e.target.name)\n    }\n    }\n\n    />\n    {\n      name === focused && <InfiniteCalendar\n        width={400}\n        height={600}\n        selected={model[name] ? new Date(model[name]) : new Date()}\n        keyboardSupport={true}\n        onSelect={e => {\n          onChange({[name]: date(e)});\n        }}\n      />\n    }\n  </div>\n};\n\n\nexport default (props) => {\n\n  const {detail, handleSubmit, handleFocus, handleBlur, inputChanged: onChange, focused} = props;\n\n  // 点击时,隐藏日期组件\n  return <div onClick={handleBlur}>\n    <form onSubmit={handleSubmit}>\n      <div className=\"field\">\n        <label className=\"label\">app名称</label>\n        <div className=\"control\">\n          <Input className=\"input\" name=\"app\" required model={detail} onChange={onChange}/>\n        </div>\n      </div>\n\n      <div className=\"field\">\n        <label className=\"label\">产品名称</label>\n        <div className=\"control\">\n          <Input className=\"input\" name=\"product\" required model={detail} onChange={onChange}/>\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">预计收益</label>\n        <div className=\"control\">\n          <Input className=\"input\" name=\"profit\" type=\"number\" min=\"0\" step=\"0.01\" model={detail} onChange={onChange}/>\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">投资金额</label>\n        <div className=\"control\">\n          <Input className=\"input\" type=\"number\" name=\"investment\" required min=\"0\" step=\"0.01\" model={detail}\n                 onChange={onChange}/>\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">开始日期</label>\n        <DateInput name=\"start\" focused={focused} handleFocus={handleFocus} handleBlur={handleBlur} model={detail}\n                   onChange={onChange}/>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">结束日期</label>\n        <DateInput name=\"end\" focused={focused} handleFocus={handleFocus} handleBlur={handleBlur} model={detail}\n                   onChange={onChange}/>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">到账时间</label>\n        <DateInput name=\"due\" focused={focused} handleFocus={handleFocus} handleBlur={handleBlur} model={detail}\n                   onChange={onChange}/>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">7日年化收益</label>\n        <div className=\"control\">\n          <Input className=\"input\" type=\"number\" name=\"ratio\" min=\"0\" step=\"0.01\" model={detail} onChange={onChange}/>\n        </div>\n      </div>\n      <div className=\"field\">\n        <div className=\"control\">\n          <button className=\"button is-primary\">Submit</button>\n          <Link className=\"button is-link\" to=\"/licai\">Cancel</Link>\n        </div>\n      </div>\n    </form>\n  </div>\n}\n","import React from \"react\"\nimport {connect} from \"react-redux\"\nimport LicaiForm from \"../views/LicaiForm\"\nimport {licaiDetail, saveLicai} from \"../../api/markdownApi\"\nimport {inputChanged} from \"../../actions/licaiActions\"\n\nclass LicaiFormContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      focused: null,// 获得焦点的输入框\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleBlur = this.handleFocus.bind(this, null);\n    this.handleFocus = this.handleFocus.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      this.props.licaiDetail(this.props.match.params.id);\n    }\n  }\n\n  handleFocus(name) {\n    this.setState({focused: name});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.props.saveLicai(() => {// 保存完成后跳转到理财列表页\n      this.props.history.push('/finance');\n    });\n  }\n\n  render() {\n\n    return <main className=\"container\">\n\n      <LicaiForm {...this.props}\n                 focused={this.state.focused}\n                 handleSubmit={this.handleSubmit}\n                 handleFocus={this.handleFocus}\n                 handleBlur={this.handleBlur}\n      />\n    </main>\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    detail: state.licaiDetail\n  }\n};\n\nconst mapDispatchToProps = {\n  licaiDetail,\n  saveLicai,\n  inputChanged\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LicaiFormContainer);\n"],"sourceRoot":""}
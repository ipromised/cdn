(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{619:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(17),o=a(32),r=a(29);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}const i=({cdn:e})=>t=>{let{path:a}=t,l=function(e,t){if(null==e)return{};var a,l,n={},c=Object.keys(e);for(l=0;l<c.length;l++)a=c[l],t.indexOf(a)>=0||(n[a]=e[a]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)a=o[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(t,["path"]);const c=/^http(s):/.test(a)?a:e+a;return n.a.createElement("img",s({src:c},l))};const m=i({cdn:"http://demo-1251530551.costj.myqcloud.com"});var d=({editing:e,data:t,getBooks:a,editBooks:l,changeField:c,saveBook:o,deleteBook:r})=>n.a.createElement("main",{className:"container"},n.a.createElement("h3",null,"总数: ",t.length),n.a.createElement("br",null),function(e,t=3,a=-1,l,c,o,r,s){return e.reduce((i,m,d)=>(d%t==0&&i.push(function(i){const m=Math.min(e.length,i+t),d=i,k=[];for(;i<m;)i===a?k.push(n.a.createElement(p,{key:e[i].id||i,book:e[i],changeField:o,getBooks:l,saveBook:r,deleteBook:s})):k.push(n.a.createElement(u,{key:e[i].id||i,idx:i,book:e[i],getBooks:l,editBooks:c,deleteBook:s})),i++;return n.a.createElement("div",{key:d,className:"columns"},k)}(d)),i),[])}(t,3,e,a,l,c,o,r));function u({idx:e,book:t,getBooks:a,editBooks:l,deleteBook:c}){return n.a.createElement("div",{className:"column is-4"},n.a.createElement("div",{className:"card card-equal-height"},n.a.createElement("div",{className:"card-image"},n.a.createElement("figure",{className:"image"},n.a.createElement(m,{path:t.img}))),n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"content"},n.a.createElement("h6",null,t.title),n.a.createElement("p",null,t.desc),t.links.map(e=>e.url?n.a.createElement("a",{key:e.url,href:e.url},e.title):null))),n.a.createElement("footer",{className:"card-footer"},n.a.createElement("a",{className:"card-footer-item",onClick:t=>l(e)},"Edit"),n.a.createElement("a",{className:"card-footer-item",onClick:e=>c(t.id,a)},"Delete"))))}function p({book:e,changeField:t,getBooks:a,saveBook:l,deleteBook:c}){return n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-image"},n.a.createElement("figure",{className:"image"},n.a.createElement(m,{path:e.img}),n.a.createElement("input",{className:"input",type:"text",placeholder:"图片地址",value:e.img,onChange:e=>t({field:"img",value:e.target.value,type:"book"})}))),n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"content"},n.a.createElement("h6",null,e.title),n.a.createElement("input",{className:"input",type:"text",placeholder:"标题",value:e.title,onChange:e=>t({field:"title",value:e.target.value,type:"book"})}),n.a.createElement("p",null,e.desc),n.a.createElement("input",{className:"input",type:"text",placeholder:"描述",value:e.desc,onChange:e=>t({field:"desc",value:e.target.value,type:"book"})}),e.links.map((e,a)=>n.a.createElement("div",{key:a},n.a.createElement("label",{className:"label"},"链接"),n.a.createElement("p",{className:"control"},n.a.createElement("input",{className:"input",type:"url",value:e.url,onChange:e=>t({field:"url",value:e.target.value,idx:a,type:"book"})})),n.a.createElement("label",{className:"label"},"链接说明"),n.a.createElement("p",{className:"control"},n.a.createElement("input",{className:"input",type:"text",value:e.title,onChange:e=>t({field:"title",value:e.target.value,idx:a,type:"book"})})))))),n.a.createElement("footer",{className:"card-footer"},n.a.createElement("a",{className:"card-footer-item",onClick:l},"Save"),n.a.createElement("a",{className:"card-footer-item",onClick:t=>c(e.id,a)},"Delete"))))}t.default=Object(c.connect)(e=>e.books,{getBooks:o.d,editBooks:r.f,changeField:r.e,saveBook:o.j,deleteBook:o.a})(class extends n.a.Component{componentDidMount(){this.props.getBooks()}render(){return n.a.createElement(d,this.props)}})}}]);
//# sourceMappingURL=books.9ef0ca10b84eb3c27e65.chunk.js.map
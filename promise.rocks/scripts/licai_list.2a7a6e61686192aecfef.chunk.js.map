{"version":3,"sources":["webpack:///./app/components/views/LicaiList.js","webpack:///./app/components/containers/LicaiListContainer.js"],"names":["End","date","today","color","react_default","a","createElement","style","substr","maxWidth","LicaiList","list","sum","onDelete","filterLicai","filter","Object","utils","className","width","onClick","react_router_dom_es","to","map","v","i","key","app","product","investment","toLocaleString","profit","start","end","due","ratio","id","mapDispatchToProps","licaiList","markdownApi","deleteLicai","licaiActions","__webpack_exports__","es","licai","prop","reduce","p","toFixed","LicaiListContainer_sum","Component","constructor","props","super","this","bind","componentDidMount","document","title","render","_extends"],"mappings":"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","file":"scripts/licai_list.2a7a6e61686192aecfef.chunk.js","sourcesContent":["import React from \"react\"\nimport {Link} from \"react-router-dom\"\nimport {toDateString} from \"../../lib/utils\"\n\nconst End = ({date, today}) => {\n  const color = date > today ? 'green' : date === today ? '#fce473' : 'red';\n  return <span style={{color: color}}>\n      {date ? date.substr(2) : date}\n  </span>\n};\n\nconst style = {maxWidth: 'fit-content'};\n\nexport default ({list, sum, onDelete, filterLicai, filter}) => {\n  const today = toDateString();\n  return <main className=\"container\" style={style}>\n    <table className=\"table\" style={{width: '100%'}}>\n      <caption>{filter ? '总投资' : '总收益'}:{sum}\n        <a className=\"button is-small\" onClick={filterLicai}>{filter ? '全部' : '未回账'}</a>\n      </caption>\n      <thead>\n      <tr>\n        <th>序号</th>\n        <th>理财app</th>\n        <th>产品名称</th>\n        <th>金额</th>\n        <th>预计收益</th>\n        <th>开始时间</th>\n        <th>结束时间</th>\n        <th>回账时间</th>\n        <th>7日年化收益</th>\n        <th>操作 <Link to=\"/finance/form\" className=\"button is-small\">新增</Link></th>\n      </tr>\n      </thead>\n      <tbody>\n      {\n        list.map((v, i) => <tr key={i}>\n            <td>{i + 1}</td>\n            <td>{v.app}</td>\n            <td>{v.product}</td>\n            <td>{(+v.investment || 0).toLocaleString()}</td>\n            <td>{(+v.profit || 0).toLocaleString()}</td>\n            <td>{v.start ? v.start.substr(2) : v.start}</td>\n            <td><End date={v.end} today={today}/></td>\n            <td>{v.due}</td>\n            <td>{v.ratio}</td>\n            <td><Link className='button is-small is-primary' to={'/finance/form/' + v.id}>编辑</Link>\n              <a className='button is-small is-danger' onClick={() => onDelete(v.id)}>删除</a>\n            </td>\n          </tr>\n        )\n      }\n\n      </tbody>\n    </table>\n  </main>\n}\n","import React from \"react\"\nimport {connect} from \"react-redux\"\nimport LicaiList from \"../views/LicaiList\"\nimport {licaiList, deleteLicai} from \"../../api/markdownApi\"\nimport {filterLicai} from \"../../actions/licaiActions\"\n\nclass licaiListContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.licaiList();\n    document.title = '理财';\n  }\n\n  render() {\n    return <LicaiList {...this.props} onDelete={this.onDelete}/>\n  }\n\n  onDelete(id) {\n    this.props.deleteLicai(id, this.props.licaiList);\n  }\n}\n\n\nconst mapStateToProps = ({licai}) => {\n\n  let {list, filter} = licai;\n  if (filter) {\n    list = list.filter(v => !v.due);\n  }\n  return {\n    list,\n    sum: sum(list, filter ? 'investment' : 'profit'),\n    filter\n  }\n};\n\nconst mapDispatchToProps = {\n  licaiList,\n  deleteLicai,\n  filterLicai\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(licaiListContainer);\n\n\nfunction sum(list, prop = 'profit') {\n  return list.reduce((p, v) => +v[prop] + p, 0).toFixed(2);\n}\n"],"sourceRoot":""}